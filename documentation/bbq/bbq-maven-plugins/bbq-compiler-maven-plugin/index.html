<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia at Jan 12, 2012 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title></title>
    <link rel="stylesheet" href="./css/apache-maven-fluido.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
        <style>body{padding-top: 60px;}</style>
    
    <script type="text/javascript" src="./js/apache-maven-fluido.min.js"></script>
    
    <link rel="stylesheet" href="./highlighter/SyntaxHighlighter.css" />
    <script type="text/javascript" src="./highlighter/shCore.js"></script>
    <script type="text/javascript" src="./highlighter/shBrushJScript.js"></script>
    <script type="text/javascript" src="./highlighter/shBrushJava.js"></script>

    
    <meta name="Date-Revision-yyyymmdd" content="20120112" />
    <meta http-equiv="Content-Language" content="en" />
    
        </head>
  <body>
                        
                    
        <div id="topbar" class="topbar" data-dropdown="dropdown">
      <div class="topbar-inner">
                <div class="container">
                
                                            <a class="brand" href="http://achingbrain.github.com/maven-repo/documentation/bbq"  title="BBQjs">

                                
                                                                                                                    <img src="images/topbar-logo.png" alt="BBQjs" />
                
                </a>
                    
          <ul>
                        <li class="dropdown" data-dropdown="dropdown" >
        <a href="#" class="dropdown-toggle">Overview</a>
              <ul class="dropdown-menu">
                   <li>      <a href="../../index.html"  title="Introduction">Introduction</a>
                                 <ul class="dropdown-menu-menu">
           </ul>
                          </li>
                    <li>      <a href="../../license.html"  title="License">License</a>
                                 <ul class="dropdown-menu-menu">
           </ul>
                          </li>
            </ul>
        </li>
                <li class="dropdown" data-dropdown="dropdown" >
        <a href="#" class="dropdown-toggle">Documentation</a>
              <ul class="dropdown-menu">
                   <li>      <a href="../../design-goals.html"  title="Design goals">Design goals</a>
                                 <ul class="dropdown-menu-menu">
           </ul>
                          </li>
                    <li>      <a href="../../guide.html"  title="Guide">Guide</a>
                                 <ul class="dropdown-menu-menu">
                   <li>      <a href="../../guide-project-structure.html"  title="Project structure">Project structure</a>
                                 <ul class="dropdown-menu-menu">
           </ul>
                          </li>
                    <li>      <a href="../../guide-date-handling.html"  title="Date handling">Date handling</a>
                                 <ul class="dropdown-menu-menu">
           </ul>
                          </li>
                    <li>      <a href="../../guide-drag-and-drop.html"  title="Drag and drop">Drag and drop</a>
                                 <ul class="dropdown-menu-menu">
           </ul>
                          </li>
                    <li>      <a href="../../guide-i18n.html"  title="Internationalisation">Internationalisation</a>
                                 <ul class="dropdown-menu-menu">
           </ul>
                          </li>
            </ul>
                          </li>
            </ul>
        </li>
                <li class="dropdown" data-dropdown="dropdown" >
        <a href="#" class="dropdown-toggle">Modules</a>
              <ul class="dropdown-menu">
                   <li>      <a href="../../bbq-js/index.html"  title="bbq-js">bbq-js</a>
                                 <ul class="dropdown-menu-menu">
           </ul>
                          </li>
                    <li>      <a href="../../bbq-js-test/index.html"  title="bbq-js-test">bbq-js-test</a>
                                 <ul class="dropdown-menu-menu">
           </ul>
                          </li>
                    <li>      <a href="../../bbq-compiler/index.html"  title="bbq-compiler">bbq-compiler</a>
                                 <ul class="dropdown-menu-menu">
           </ul>
                          </li>
                    <li>      <a href="../../bbq-spring-integration/index.html"  title="bbq-spring-integration">bbq-spring-integration</a>
                                 <ul class="dropdown-menu-menu">
           </ul>
                          </li>
                    <li>      <a href="../../bbq-spring-security-intergration/index.html"  title="bbq-spring-security-intergration">bbq-spring-security-intergration</a>
                                 <ul class="dropdown-menu-menu">
           </ul>
                          </li>
                    <li>      <a href="../../bbq-test/index.html"  title="bbq-test">bbq-test</a>
                                 <ul class="dropdown-menu-menu">
           </ul>
                          </li>
                    <li>      <a href="../../bbq-maven-plugins/bbq-compiler-maven-plugin/index.html"  title="bbq-compiler-maven-plugin">bbq-compiler-maven-plugin</a>
                                 <ul class="dropdown-menu-menu">
           </ul>
                          </li>
                    <li>      <a href="../../bbq-maven-plugins/bbq-test-maven-plugin/index.html"  title="bbq-test-maven-plugin">bbq-test-maven-plugin</a>
                                 <ul class="dropdown-menu-menu">
           </ul>
                          </li>
                    <li>      <a href="../../bbq-maven-plugins/bbq-resources-maven-plugin/index.html"  title="bbq-resources-maven-plugin">bbq-resources-maven-plugin</a>
                                 <ul class="dropdown-menu-menu">
           </ul>
                          </li>
                    <li>      <a href="../../bbq-maven-archetype/index.html"  title="bbq-maven-archetype">bbq-maven-archetype</a>
                                 <ul class="dropdown-menu-menu">
           </ul>
                          </li>
            </ul>
        </li>
                <li class="dropdown" data-dropdown="dropdown" >
        <a href="#" class="dropdown-toggle">Infrastructure</a>
              <ul class="dropdown-menu">
                   <li>      <a href="../../issue-tracking.html"  title="Issue tracking">Issue tracking</a>
                                 <ul class="dropdown-menu-menu">
           </ul>
                          </li>
                    <li>      <a href="../../source-repository.html"  title="Source control">Source control</a>
                                 <ul class="dropdown-menu-menu">
           </ul>
                          </li>
                    <li>      <a href="../../team-list.html"  title="Team">Team</a>
                                 <ul class="dropdown-menu-menu">
           </ul>
                          </li>
            </ul>
        </li>
                <li class="dropdown" data-dropdown="dropdown" >
        <a href="#" class="dropdown-toggle">Code</a>
              <ul class="dropdown-menu">
                   <li>      <a href="apidocs/index.html"  title="JavaDocs">JavaDocs</a>
                                 <ul class="dropdown-menu-menu">
           </ul>
                          </li>
                    <li>      <a href="cobertura/index.html"  title="Code coverage">Code coverage</a>
                                 <ul class="dropdown-menu-menu">
           </ul>
                          </li>
                    <li>      <a href="findbugs.html"  title="FindBugs">FindBugs</a>
                                 <ul class="dropdown-menu-menu">
           </ul>
                          </li>
            </ul>
        </li>
                </ul>
                      <form action="http://www.google.com/search" method="get" class="pull-right">
  <input value="www.bbqjs.org" name="sitesearch" type="hidden"/>
  <input class="mini" size="5" name="q" id="query" type="text" value="search..." onclick="if(this.value == 'search...') {this.value = ''}"/>
  <input name="Search" value="Go" type="submit"/>
</form>
                            </div>
      </div>
    </div>
    
        <div class="container">
          
      <div id="breadcrumbs">

      </div>

      
      <div id="bodyColumn" class="content">
        <div id="contentBox">
                              
          <h2>Maven Compiler Plugin</h2>

<h3>Page package</h3>

<p>A bbq application has one main class per page.  There should be a package that contains these classes (sub packages are ok).  The name of this package should be specified as the</p>

<pre><code>${js.page.package}
</code></pre>

<p>maven property.  e.g.:</p>

<pre><code>&lt;properties&gt;
    &lt;js.page.package&gt;com.myapp.pages&lt;/js.page.package&gt;
&lt;/properties&gt;
</code></pre>

<p>This package should exist in the JavaScript directory.  By default this would be at:</p>

<pre><code>src/main/javascript
</code></pre>

<p>So, from the above example the plugin expects to see something like this:</p>

<pre><code>src/main/javascript/com/myapp/pages/HomePage.js
</code></pre>

<h3>Sample configuration</h3>

<pre><code>&lt;plugin&gt;
    &lt;groupId&gt;org.bbqjs&lt;/groupId&gt;
    &lt;artifactId&gt;bbq-compiler-maven-plugin&lt;/artifactId&gt;
    &lt;version&gt;${maven.plugin.bbq.version}&lt;/version&gt;

    &lt;executions&gt;

        &lt;!-- Compile JavaScript --&gt;
        &lt;execution&gt;
            &lt;id&gt;compileJavaScript&lt;/id&gt;
            &lt;goals&gt;
                &lt;goal&gt;compileJavaScript&lt;/goal&gt;
            &lt;/goals&gt;
            &lt;configuration&gt;
                &lt;outputDirectory&gt;${project.build.directory}/${project.build.finalName}/js&lt;/outputDirectory&gt;
            &lt;/configuration&gt;
        &lt;/execution&gt;

        &lt;!-- Compile CSS --&gt;
        &lt;execution&gt;
            &lt;id&gt;compileCSS&lt;/id&gt;
            &lt;goals&gt;
                &lt;goal&gt;compileCSS&lt;/goal&gt;
            &lt;/goals&gt;
            &lt;configuration&gt;
                &lt;outputDirectory&gt;${project.build.directory}/${project.build.finalName}/css&lt;/outputDirectory&gt;
                &lt;includes&gt;
                    &lt;include&gt;reset.css&lt;/include&gt;
                &lt;/includes&gt;
            &lt;/configuration&gt;
        &lt;/execution&gt;

        &lt;!-- Compile Language --&gt;
        &lt;execution&gt;
            &lt;id&gt;compileLanguage&lt;/id&gt;
            &lt;goals&gt;
                &lt;goal&gt;compileLanguage&lt;/goal&gt;
            &lt;/goals&gt;
            &lt;configuration&gt;
                &lt;defaultLanguage&gt;en_GB&lt;/defaultLanguage&gt;
                &lt;supportedLanguages&gt;
                    &lt;supportedLanguage&gt;en_GB&lt;/supportedLanguage&gt;
                    &lt;supportedLanguage&gt;en_US&lt;/supportedLanguage&gt;
                &lt;/supportedLanguages&gt;
                &lt;outputDirectory&gt;${project.basedir}/src/main/webapp/WEB-INF/language&lt;/outputDirectory&gt;
            &lt;/configuration&gt;
        &lt;/execution&gt;
    &lt;/executions&gt;
&lt;/plugin&gt;
</code></pre>

<p>Woah.  Let's break that down a little.</p>

<p>The bbq Maven plugin does three things:</p>

<ol>
<li>Compiles JavaScript</li>
<li>Compiles CSS</li>
<li>Compiles Language files</li>
</ol>

<p>When we say "compile" we really mean "gloms a bunch of files together".  See the <a href="../../bbq-compiler/index.html">bbq-compiler</a> for more information on this.</p>

<p>Each task is done via an execution.</p>

<h3>JavaScript compilation</h3>

<pre><code>&lt;!-- Compile JavaScript --&gt;
&lt;execution&gt;
    &lt;id&gt;compileJavaScript&lt;/id&gt;
    &lt;goals&gt;
        &lt;goal&gt;compileJavaScript&lt;/goal&gt;
    &lt;/goals&gt;
    &lt;configuration&gt;
        &lt;outputDirectory&gt;${project.build.directory}/${project.build.finalName}/js&lt;/outputDirectory&gt;
    &lt;/configuration&gt;
&lt;/execution&gt;
</code></pre>

<p>This execution looks for page classes to compile.  By default, the package it examines is found at:</p>

<pre><code>src/main/javascript/${js.page.package}
</code></pre>

<p>If yours lives somewhere else, specify an</p>

<pre><code>&lt;inputDirectory&gt;${project.basedir}/path/to/directory&lt;/inputDirectory&gt;
</code></pre>

<p>element in the configuration section</p>

<p>Each compiled JavaScript file (one per page) is outputted into the directory specified by the</p>

<pre><code>&lt;outputDirectory&gt;path/to/directory&lt;/outputDirectory&gt;
</code></pre>

<p>element.</p>

<h3>CSS compilation</h3>

<pre><code>&lt;execution&gt;
    &lt;id&gt;Compile CSS&lt;/id&gt;
    &lt;goals&gt;
        &lt;goal&gt;compileCSS&lt;/goal&gt;
    &lt;/goals&gt;
    &lt;configuration&gt;
        &lt;outputDirectory&gt;${project.build.directory}/${project.build.finalName}/css&lt;/outputDirectory&gt;
        &lt;libraries&gt;
            &lt;library&gt;reset.css&lt;/library&gt;
        &lt;/libraries&gt;
    &lt;/configuration&gt;
&lt;/execution&gt;
</code></pre>

<p>This works in a similar fashion to the JavaScript compilation execution, except instead of JavaScript files, it compiles CSS files.</p>

<h3> Language compilation</h3>

<pre><code>&lt;execution&gt;
    &lt;id&gt;Compile Language&lt;/id&gt;
    &lt;goals&gt;
        &lt;goal&gt;compileLanguage&lt;/goal&gt;
    &lt;/goals&gt;
    &lt;configuration&gt;
        &lt;defaultLanguage&gt;en_GB&lt;/defaultLanguage&gt;
        &lt;supportedLanguages&gt;
            &lt;supportedLanguage&gt;en_GB&lt;/supportedLanguage&gt;
            &lt;supportedLanguage&gt;en_US&lt;/supportedLanguage&gt;
        &lt;/supportedLanguages&gt;
                &lt;outputDirectory&gt;${project.basedir}/src/main/webapp/WEB-INF/language&lt;/outputDirectory&gt;
    &lt;/configuration&gt;
&lt;/execution&gt;
</code></pre>

<p>Also similar to the JavaScript compiler execution, this execution compiles language translation files.  Each JavaScript class should have one or more language translation files next to it in the source directory structure.  So, for example:</p>

<pre><code>src/main/javascript/com/myapp/MyClass.js
src/main/javascript/com/myapp/MyClass.en_GB.lang.xml
src/main/javascript/com/myapp/MyClass.en_US.lang.xml
</code></pre>

<p>The</p>

<pre><code>&lt;defaultLanguage&gt;locale_code&lt;/defaultLanguage&gt;
</code></pre>

<p>element defines which language is used when translations do not exist in the specified language.  So, for example, with the configuration above you could put all of your translations in the en<em>GB files, then override alternative spellings such as "color" in the en</em>US files.</p>

<p>Only languages defined in</p>

<pre><code>&lt;supportedLanguage&gt;locale_code&lt;/supportedLanguage
</code></pre>

<p>elements will be compiled.</p>

<p>Language files are simple Java properties files.  This ensures the translations support multibyte character sets.  e.g:</p>

<pre><code>&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;!DOCTYPE properties SYSTEM "http://java.sun.com/dtd/properties.dtd"&gt;
&lt;properties&gt;
    &lt;entry key="com.myapp.hello"&gt;Hello&lt;/entry&gt;
    &lt;entry key="com.myapp.world"&gt;World&lt;/entry&gt;
&lt;/properties&gt;
</code></pre>

                  </div>
      </div>
    </div>

    <footer class="footer">
            <div class="container">
      

         <ul class="breadcrumb">
            <li class="copyright">Copyright &copy;                   2012.
          All Rights Reserved.      
        
      </li>
                  
        
                  <li id="publishDate">Last Published: 2012-01-12</li>
                  <li class="divider">|</li> <li id="projectVersion">Version: 1.1.4-SNAPSHOT</li>
                                        
        
               </ul>

        
                <p id="poweredBy" class="pull-right">
                          <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
              </p>
              </div>
    </footer>

	<script type="text/javascript">

$("pre").addClass("prettyprint linenums");
$("code").each(function(index, node) {
node.innerHTML = node.innerHTML.trim();
});
prettyPrint();

	</script>
  </body>
</html>
