<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia at Jan 25, 2012 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title></title>
    <link rel="stylesheet" href="./css/apache-maven-fluido.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
        <style>body{padding-top: 60px;}</style>
    
    <script type="text/javascript" src="./js/apache-maven-fluido.min.js"></script>
    
    <link rel="stylesheet" href="./highlighter/SyntaxHighlighter.css" />
    <script type="text/javascript" src="./highlighter/shCore.js"></script>
    <script type="text/javascript" src="./highlighter/shBrushJScript.js"></script>
    <script type="text/javascript" src="./highlighter/shBrushJava.js"></script>

    
    <meta name="Date-Revision-yyyymmdd" content="20120125" />
    <meta http-equiv="Content-Language" content="en" />
    
        </head>
  <body>
                        
                    
        <div id="topbar" class="topbar" data-dropdown="dropdown">
      <div class="topbar-inner">
                <div class="container">
                
                                            <a class="brand" href="http://achingbrain.github.com/maven-repo/documentation/bbq"  title="BBQjs">

                                
                                                                                                                    <img src="images/topbar-logo.png" alt="BBQjs" />
                
                </a>
                    
          <ul>
                        <li class="dropdown" data-dropdown="dropdown" >
        <a href="#" class="dropdown-toggle">Overview</a>
        <ul class="dropdown-menu">
                      <li>      <a href="index.html"  title="Introduction">Introduction</a>
</li>
                      <li>      <a href="license.html"  title="License">License</a>
</li>
                  </ul>
      </li>
                <li class="dropdown" data-dropdown="dropdown" >
        <a href="#" class="dropdown-toggle">Documentation</a>
        <ul class="dropdown-menu">
                      <li>      <a href="design-goals.html"  title="Design goals">Design goals</a>
</li>
                      <li>      <a href="guide.html"  title="Guide">Guide</a>
</li>
                  </ul>
      </li>
                <li class="dropdown" data-dropdown="dropdown" >
        <a href="#" class="dropdown-toggle">Infrastructure</a>
        <ul class="dropdown-menu">
                      <li>      <a href="issue-tracking.html"  title="Issue tracking">Issue tracking</a>
</li>
                      <li>      <a href="source-repository.html"  title="Source control">Source control</a>
</li>
                      <li>      <a href="team-list.html"  title="Team">Team</a>
</li>
                  </ul>
      </li>
                </ul>
                      <form action="http://www.google.com/search" method="get" class="pull-right">
  <input value="achingbrain.github.com/maven-repo/documentation/bbq" name="sitesearch" type="hidden"/>
  <input class="mini" size="5" name="q" id="query" type="text" value="search..." onclick="if(this.value == 'search...') {this.value = ''}"/>
  <input name="Search" value="Go" type="submit"/>
</form>
                            </div>
      </div>
    </div>
    
        <div class="container">
          
      <div id="breadcrumbs">

      </div>

      
      <div id="bodyColumn" class="content">
        <div id="contentBox">
                              
          <h2>Form elements</h2>

<p>bbq contains a suite of form elements to capture user input, perform validation and enforce value types where necessary.  Where possible it falls back to use the new shiny in HTML5 and transparently shims in support for older browsers.</p>

<h3> FormField</h3>

<p><a href="bbq-js/jsdoc/symbols/bbq.gui.form.FormField.html">FormField</a> is the abstract superclass of all form elements.  A form field contains a value and can have validation and transformation applied to it.</p>

<p>See the JavaDocs for examples of <a href="bbq-js/jsdoc/symbols/bbq.gui.form.CheckBox.html">CheckBox</a>, <a href="bbq-js/jsdoc/symbols/bbq.gui.form.DropDown.html">DropDown</a>, <a href="bbq-js/jsdoc/symbols/bbq.gui.form.PasswordField.html">PasswordField</a>, <a href="bbq-js/jsdoc/symbols/bbq.gui.form.TextField.html">TextField</a>, <a href="bbq-js/jsdoc/symbols/bbq.gui.form.TextArea.html">TextArea</a> and friends.</p>

<h4>Transformation</h4>

<p>It's possible to transform the value of a form field.  A transformer will constrain the or otherwise manipulate the values of a form field.  This will let you turn strings into arrays and prevent <code>"1"</code> being sent to a server when you really want <code>true</code> sent.</p>

<p>Transformers are objects that support the following method signature:</p>

<pre><code class="language-javascript">
/**
 * @param {Object} value
 * @returns {Object} Returns the transformed value
 */
transform: function(value);
</code></pre>

<p><a href="bbq-js/jsdoc/symbols/bbq.gui.form.transformer.BooleanValueTransformer.html">BooleanValueTransformer</a> is an example of a transformer:</p>

<pre><code class="language-javascript">
var field = new bbq.gui.form.TextField();
field.setTransformer(new bbq.gui.form.transformer.BooleanValueTransformer());
field.setValue("true");

// returns true, not "true"
field.getValue();
</code></pre>

<p>See the JSDocs for further examples of <a href="bbq-js/jsdoc/symbols/bbq.gui.form.transformer.BooleanValueTransformer.html">BooleanValueTransformer</a>, <a href="bbq-js/jsdoc/symbols/bbq.gui.form.transformer.StringTokeniserTransformer.html">StringTokeniserTransformer</a> and friends.</p>

<h4>Validation</h4>

<p>Validators ensure that fields have values that conform to a certain type.  They should be objects that support the following method signature:</p>

<pre><code class="language-javascript">
/**
 * @param {Object} value The value to validate
 * @returns {String} An error code.  Returns null if no error occurred.
 */
validate: function(value);

/**
 * Optional method.
 *
 * @returns {boolean} If true, this validator is applied after the value has been transformed
 */
isPostTransformValidator: function();
</code></pre>

<p><a href="bbq-js/jsdoc/symbols/bbq.gui.form.validator.EmailValidator.html">EmailValidator</a> is an example of a validator:</p>

<pre><code class="language-javascript">
var field = new bbq.gui.form.TextField();
field.addValidator(new bbq.gui.form.validator.EmailValidator());
field.setValue("foo");

// throws an exception
field.getValue();

field.setValue("foo@bar.com");

// will not throw an exception
field.getValue();
</code></pre>

<p>When validation exceptions are thrown, the exception object has the following structure:</p>

<pre><code class="language-javascript">
{
    // This string is a code representing the error condition
    error: {String}

    // This is the field that caused the error
    field: {bbq.gui.form.FormField}
}
</code></pre>

<p>See the JSDocs for further examples of <a href="bbq-js/jsdoc/symbols/bbq.gui.form.validator.EmailValidator.html">EmailValidator</a>, <a href="bbq-js/jsdoc/symbols/bbq.gui.form.validator.MustEqualValidator.html">MustEqualValidator</a>, <a href="bbq-js/jsdoc/symbols/bbq.gui.form.validator.NotNullValidator.html">NotNullValidator</a>, <a href="bbq-js/jsdoc/symbols/bbq.gui.form.validator.URLValidator.html">URLValidator</a> and friends.</p>

<h5> Pre/Post validation</h5>

<p>Sometimes you only want your validation to occur after a value has been transformed.  For example, if you wrote a validator that said a given token field must have more than one value, it would be simpler to have a transformer transform the value into an array, then have your validator ensure that the length of the array was greater than zero.</p>

<p>By default validators are applied before transformation.  To have your validator applied after transformation, have it implement the <code>isPostTransformValidator</code> method and return boolean true.</p>

<h4>Behaviours</h4>

<h3>Form</h3>

<p><a href="bbq-js/jsdoc/symbols/bbq.gui.form.Form.html">Form</a> uses an HTML form element as it's root node and contains <a href="bbq-js/jsdoc/symbols/bbq.gui.form.FormField.html">FormField</a> elements.</p>

<pre><code class="language-javascript">
// create two fields
var field1 = new bbq.gui.form.TextField({name: "foo"});
var field2 = new bbq.gui.form.TextField({name: "bar"});

// add them to our form
var form = new bbq.gui.form.Form();
form.appendChild(field1);
form.appendChild(field2);

// set the values on the fields
field1.setValue("hello");
field2.setValue("world");

// returns {foo: "hello", bar: "world"}
form.getValues();
</code></pre>

<p>When <a href="bbq-js/jsdoc/symbols/bbq.gui.form.Form.html#getValues">Form#getValues</a> is called, the form recursively walks it's root node looking for subclasses of <a href="bbq-js/jsdoc/symbols/bbq.gui.form.FormField.html">FormField</a>.  Thus the following will still work:</p>

<pre><code class="language-javascript">
// create two fields
var field1 = new bbq.gui.form.TextField({name: "foo", value: "hello"});
var field2 = new bbq.gui.form.TextField({name: "bar", value: "world"});

// add them to our form
var form = new bbq.gui.form.Form();
form.appendChild(field1);
form.appendChild(DOMUtil.createElement("label", [
    "Field2 label: ", field2
]);

// returns {foo: "hello", bar: "world"}
form.getValues();
</code></pre>

                  </div>
      </div>
    </div>

    <footer class="footer">
            <div class="container">
      

         <ul class="breadcrumb">
            <li class="copyright">Copyright &copy;                   2012.
          All Rights Reserved.      
        
      </li>
                  
        
                  <li id="publishDate">Last Published: 2012-01-25</li>
                  <li class="divider">|</li> <li id="projectVersion">Version: 1.1.4-SNAPSHOT</li>
                                        
        
               </ul>

        
                <p id="poweredBy" class="pull-right">
                          <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
              </p>
              </div>
    </footer>

	<script type="text/javascript">

$("pre").addClass("prettyprint linenums");
$("code").each(function(index, node) {
node.innerHTML = node.innerHTML.trim();
});
prettyPrint();

	</script>
  </body>
</html>
